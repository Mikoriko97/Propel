(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{70310:function(e,t,r){Promise.resolve().then(r.bind(r,38116))},38116:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var a=r(57437),i=r(2265),s=r(86110),n=r(93023),l=r(51908),o=r(55771),d=r(58094),c=r(6763),u=r(62621),m=r(37309),f=r(39311);let h=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,f.cn)("w-full caption-bottom text-sm",r),...i})})});h.displayName="Table";let p=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("thead",{ref:t,className:(0,f.cn)("[&_tr]:border-b",r),...i})});p.displayName="TableHeader";let x=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,f.cn)("[&_tr:last-child]:border-0",r),...i})});x.displayName="TableBody";let g=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...i})});g.displayName="TableFooter";let v=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("tr",{ref:t,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...i})});v.displayName="TableRow";let b=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("th",{ref:t,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...i})});b.displayName="TableHead";let y=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("td",{ref:t,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...i})});y.displayName="TableCell";let j=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("caption",{ref:t,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",r),...i})});j.displayName="TableCaption";var w=r(73067),N=r(83039),S=r(83298),_=r(32176),k=r(61396),C=r.n(k),I=r(25030);async function A(){try{let e=window.location.origin,t="".concat(e,"/linera/linera_web.js");console.log("[Linera Loader] Loading module from:",t);let r=await import(t);if("function"==typeof r.default){let t="".concat(e,"/linera/linera_web_bg.wasm");await r.default(t),console.log("[Linera Loader] WASM initialized successfully")}return r}catch(e){throw console.error("[Linera Loader] Failed to load module:",e),e}}function T(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class R{static async generate(){let e=I.P6.randomSecretKey(),t=(0,I.getPublicKey)(e,!1),{keccak_256:a}=await r.e(220).then(r.bind(r,38220)),i=a(t.slice(1)),s="0x"+T(i.slice(-20));return new R(e,s.toLowerCase())}static async fromJson(e){let t=JSON.parse(e),r=t.privateKeyHex||"",a=r.match(/.{1,2}/g)||[],i=new Uint8Array(a.map(e=>parseInt(e,16)));return new R(i,t.address.toLowerCase())}async toJson(){return JSON.stringify({privateKeyHex:T(this.privateKey),address:this.address})}async sign(e,t){e.toLowerCase().replace(/^user:/,"");let a=new TextEncoder().encode("\x19Ethereum Signed Message:\n".concat(t.length)),i=new Uint8Array(a.length+t.length);i.set(a),i.set(t,a.length);let{keccak_256:s}=await r.e(220).then(r.bind(r,38220)),n=s(i),l=await (0,I.Xx)(n,this.privateKey,{prehash:!1,format:"recovered"}),o=27+l[64],d=T(l.slice(0,64))+o.toString(16).padStart(2,"0");return d}async containsKey(e){let t=e.toLowerCase().replace(/^user:/,"");return t===this.address.toLowerCase()}constructor(e,t){this.privateKey=e,this.address=t}}class E{static async loadMnemonic(){return localStorage.getItem("linera_mnemonic")}static async createSigner(e){try{let{PrivateKey:t}=await Promise.all([r.e(882),r.e(164)]).then(r.bind(r,5164)),a=t.fromMnemonic(e);return a}catch(c){let{sha256:t}=await r.e(131).then(r.bind(r,69131)),a=new TextEncoder,i=t(a.encode(e)),{getPublicKey:s}=await Promise.resolve().then(r.bind(r,25030)),n=s(i,!1),{keccak_256:l}=await r.e(220).then(r.bind(r,38220)),o=l(n.slice(1)),d="0x"+Array.from(o.slice(-20)).map(e=>e.toString(16).padStart(2,"0")).join("");return new R(i,d.toLowerCase())}}}class O{static getInstance(){return O.instance||(O.instance=new O),O.instance}async init(){if(!this.wasmInitialized){try{if(this.lineraModule=await A(),!this.lineraModule)throw Error("Failed to load Linera module")}catch(e){console.error("[Linera] Module load failed, trying fallback import",e),this.lineraModule=await r.e(469).then(r.bind(r,95469)),"function"==typeof this.lineraModule.default&&await this.lineraModule.default()}try{let{sha256:e}=await r.e(131).then(r.bind(r,69131)),{hmac:t}=await r.e(476).then(r.bind(r,30476));I.kq.sha256=t=>e(t),I.kq.hmacSha256=(r,a)=>t(e,r,a)}catch(e){}this.wasmInitialized=!0,console.log("[Linera] WASM initialized")}}async withTimeout(e,t,r){return Promise.race([e,new Promise((e,a)=>setTimeout(()=>a(Error("Timeout: ".concat(r))),t))])}async createWalletAndClaimChain(){let e,t;await this.init();let a=localStorage.getItem("linera_mnemonic");if(!a)try{let{Wallet:e}=await Promise.all([r.e(882),r.e(997)]).then(r.bind(r,51997)),t=e.createRandom();a=t.mnemonic.phrase,localStorage.setItem("linera_mnemonic",a)}catch(t){e=await R.generate()}e||(e=await E.createSigner(a)),t="function"==typeof e.address?e.address():e.address;let i=new this.lineraModule.Faucet(this.faucetUrl),s=await i.createWallet(),n=await i.claimChain(s,t);console.log("[Linera] Wallet created and chain claimed",{owner:t,chainId:n});let l=new this.lineraModule.Client(s,e,!1),o=l&&"object"==typeof l&&"function"==typeof l.balance;if(o)this.client=l;else if("number"==typeof l)this.client=this.lineraModule.Client.__wrap(l);else if(l&&"function"==typeof l.then){let e=await l;this.client=e&&"number"==typeof e?this.lineraModule.Client.__wrap(e):e}else throw Error("Unexpected Client constructor return value");try{await this.client.identity()}catch(e){}return{address:"function"==typeof e.address?e.address():e.address,microchain:n,signer:e}}async primeClientFromStorage(e){try{await this.init();let t=await this.lineraModule.InMemoryWallet.read();if(t){let r=new this.lineraModule.Client(t,e,!1),a=r&&"object"==typeof r&&"function"==typeof r.balance;if(a)this.client=r;else if("number"==typeof r)this.client=this.lineraModule.Client.__wrap(r);else if(r&&"function"==typeof r.then){let e=await r;this.client=e&&"number"==typeof e?this.lineraModule.Client.__wrap(e):e}else throw Error("Unexpected Client constructor return value");return!0}return!1}catch(e){return console.warn("[Linera] primeClientFromStorage failed",e),!1}}async getBalance(e,t,r){try{if(await this.init(),this.client||await this.primeClientFromStorage(r),!this.client)throw Error("Client not initialized");console.log("[Linera] Requesting balance via SDK client...");let e=String(await this.withTimeout(this.client.balance(),1e4,"client.balance"));return console.log("[Linera] Client SDK balance",{chainId:t,balance:e}),e&&e.length?e:"0"}catch(e){return console.warn("[Linera] getBalance failed",e),"0"}}async getApplication(e,t,r){await this.init(),this.client||await this.primeClientFromStorage(e);let a=await this.client.frontend(),i=await a.application(t);return console.log("[Linera] Application loaded via WASM",{applicationId:t}),i}async getTokenBalance(e,t,r,a){try{let l=await this.getApplication(r,t,a);for(let t of['query { accounts { entry(key: "'.concat(e,'") { value } } }'),'query { accounts { entry(key: { Address: "'.concat(e,'" }) { value } } }')])try{var i,s,n;let e=await l.query(t),r="string"==typeof e?JSON.parse(e):e,a=null==r?void 0:null===(n=r.data)||void 0===n?void 0:null===(s=n.accounts)||void 0===s?void 0:null===(i=s.entry)||void 0===i?void 0:i.value;if(null!=a)return String(a)}catch(e){}return"0"}catch(e){return console.warn("[Linera] getTokenBalance failed",e),"0"}}async getTickerSymbol(e,t,r){try{var a,i;let s=await this.getApplication(t,e,r),n=await s.query("query { ticker_symbol }"),l="string"==typeof n?JSON.parse(n):n;return String(null!==(i=null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.ticker_symbol)&&void 0!==i?i:"TLINERA")}catch(e){return"TLINERA"}}async checkConnectivity(){try{if(await this.init(),this.client)try{let e=await this.withTimeout(this.client.balance(),5e3,"ping-balance");return"string"==typeof e?e.length>0:!!e}catch(e){return!1}let e=await this.lineraModule.InMemoryWallet.read();return!!e}catch(e){return!1}}onNotification(e){this.client&&this.client.onNotification(e)}constructor(){this.wasmInitialized=!1,this.lineraModule=null,this.client=null,this.faucetUrl="https://faucet.testnet-conway.linera.net"}}function L(){var e,t,r;let[f,g]=(0,i.useState)(""),[j,k]=(0,i.useState)(null),[I,A]=(0,i.useState)(null),[T,R]=(0,i.useState)([]),[L,M]=(0,i.useState)(null),[D,P]=(0,i.useState)(""),[U,z]=(0,i.useState)(""),[Z,F]=(0,i.useState)({total:0,active:0,completed:0,raised:0}),[W,q]=(0,i.useState)([]),[B,J]=(0,i.useState)({participation:0,committed:0,pl:0,balance:0}),[V,H]=(0,i.useState)(""),[K,Y]=(0,i.useState)(""),[G,X]=(0,i.useState)(""),[Q,$]=(0,i.useState)(""),[ee,et]=(0,i.useState)(""),[er,ea]=(0,i.useState)(""),[ei,es]=(0,i.useState)(!1),[en,el]=(0,i.useState)(""),[eo,ed]=(0,i.useState)(""),[ec,eu]=(0,i.useState)(""),[em,ef]=(0,i.useState)(!1),[eh,ep]=(0,i.useState)(""),[ex,eg]=(0,i.useState)(""),[ev,eb]=(0,i.useState)(null),[ey,ej]=(0,i.useState)("");(0,i.useRef)(null),(0,i.useEffect)(()=>{let e=async()=>{let e=await E.loadMnemonic();if(e)try{let t=await E.createSigner(e);eb(t);try{let e=O.getInstance();await e.primeClientFromStorage(t)}catch(e){}}catch(e){console.error("Invalid stored mnemonic",e),localStorage.removeItem("linera_mnemonic")}};e()},[]),(0,i.useEffect)(()=>{let e=async()=>{var e,t,r,a,i,s,n,l,o,d,u,m,f,h,p,x,v;let{data:b}=await c.O.auth.getUser(),y=b.user;if(A(null!=y?y:null),k(null!==(f=null==y?void 0:y.id)&&void 0!==f?f:null),!y)return;let j=await c.O.from("profiles").select("*").eq("user_id",y.id).maybeSingle();!j.error&&j.data&&(M(j.data),j.data.role&&g(j.data.role));let w=(null===(e=j.data)||void 0===e?void 0:e.discord_nickname)||(null===(t=y.user_metadata)||void 0===t?void 0:t.full_name)||(null===(r=y.user_metadata)||void 0===r?void 0:r.name)||(null===(a=y.user_metadata)||void 0===a?void 0:a.user_name)||y.email||"User",N=(null===(i=j.data)||void 0===i?void 0:i.discord_avatar_url)||(null===(s=y.user_metadata)||void 0===s?void 0:s.avatar_url)||"";P(w),z(N),H(String((null===(n=j.data)||void 0===n?void 0:n.description)||"")),Y(String((null===(l=j.data)||void 0===l?void 0:l.x_link)||"")),X(String((null===(o=j.data)||void 0===o?void 0:o.github_link)||"")),$(String((null===(d=j.data)||void 0===d?void 0:d.discord_profile_link)||"")),et(String((null===(u=j.data)||void 0===u?void 0:u.linera_address)||"")),ea(String((null===(m=j.data)||void 0===m?void 0:m.linera_microchain)||""));let S=await c.O.from("projects").select("id,title,category,status,raised").eq("owner_id",y.id).limit(100);if(!S.error&&S.data){let e=S.data.map(e=>({id:String(e.id),title:String(e.title),category:String(e.category),status:String(null!==(h=e.status)&&void 0!==h?h:"Active")}));R(e);let t=S.data.length,r=S.data.filter(e=>"Active"===String(null!==(p=e.status)&&void 0!==p?p:"Active")).length,a=S.data.filter(e=>"Active"!==String(null!==(x=e.status)&&void 0!==x?x:"Active")).length,i=S.data.reduce((e,t)=>e+Number(t.raised||0),0);F({total:t,active:r,completed:a,raised:i})}let _=await c.O.from("votes").select("project_id,choice,amount").eq("user_id",y.id).limit(200);if(!_.error&&_.data){let e=_.data.map(e=>({project_id:String(e.project_id),choice:String(e.choice),amount:Number(e.amount||0)})),t=Array.from(new Set(e.map(e=>e.project_id))),r={},a={};if(t.length){let e=await c.O.from("projects").select("id,title,status").in("id",t);!e.error&&e.data&&e.data.forEach(e=>{var t;r[String(e.id)]={title:String(e.title),status:String(null!==(t=e.status)&&void 0!==t?t:"Active")}});let i=await c.O.from("projects_markets").select("project_id,yes_pool,no_pool").in("project_id",t);!i.error&&i.data&&i.data.forEach(e=>{a[String(e.project_id)]={yes_pool:Number(e.yes_pool||0),no_pool:Number(e.no_pool||0)}})}let i=e.map(e=>{let t=a[e.project_id]||{yes_pool:0,no_pool:0},i=r[e.project_id]||{title:"Project",status:"Active"},s=t.yes_pool,n=t.no_pool,l=0;if("yes"===e.choice){let t=s>0?e.amount/s:0;l=.6*n*t}else{let t=n>0?e.amount/n:0;l=.6*s*t}let o=(i.status,"Pending");return{projectId:e.project_id,projectTitle:i.title,choice:e.choice,amount:e.amount,result:o,pl:l}}),s=t.length,n=e.reduce((e,t)=>e+Number(t.amount||0),0),l=i.reduce((e,t)=>e+Number(t.pl||0),0),o=Number((null===(v=j.data)||void 0===v?void 0:v.balance)||0);q(i),J({participation:s,committed:n,pl:l,balance:o})}};e()},[]);let ew=async()=>{await c.O.auth.signInWithOAuth({provider:"discord",options:{redirectTo:window.location.origin+"/profile"}})},eN=async()=>{if(!j){(0,u.Am)({title:"Sign In",description:"Please sign in with Discord first."});return}if(!f){(0,u.Am)({title:"Choose role",description:"Select a user role."});return}let{error:e}=await c.O.from("profiles").upsert({id:j,user_id:j,role:f},{onConflict:"user_id"});if(e){(0,u.Am)({title:"Error",description:"Failed to save role."});return}(0,u.Am)({title:"Done",description:"Role saved."})},eS=async()=>{if(!j){(0,u.Am)({title:"Sign In",description:"Please sign in with Discord first."});return}let e={id:j,user_id:j,description:String(V||""),x_link:String(K||""),github_link:String(G||""),discord_profile_link:String(Q||"")},{error:t}=await c.O.from("profiles").upsert(e,{onConflict:"user_id"});if(t){(0,u.Am)({title:"Error",description:"Failed to save profile data."});return}M(t=>({...t||{},...e})),(0,u.Am)({title:"Done",description:"Profile updated."})},e_=async()=>{if(!j){(0,u.Am)({title:"Sign In",description:"Please sign in with Discord first."});return}let e=!!globalThis.crossOriginIsolated;if(!e){(0,u.Am)({title:"Headers required",description:"Enable COOP/COEP and restart the server."});return}if(ee&&er){(0,u.Am)({title:"Already created",description:"Linera wallet already exists."});return}es(!0);try{let e=O.getInstance(),t=await e.createWalletAndClaimChain();eb(t.signer),et(t.address),ea(t.microchain),M(e=>({...e||{},linera_address:t.address,linera_microchain:t.microchain}));try{let{error:e}=await c.O.from("profiles").upsert({id:j,user_id:j,linera_address:t.address,linera_microchain:t.microchain},{onConflict:"user_id"});if(e)throw e;(0,u.Am)({title:"Done",description:"Linera wallet created."})}catch(e){console.error("Supabase error:",e),(0,u.Am)({title:"Wallet created",description:"Database write skipped (table unavailable)."})}}catch(e){console.error("Linera Wallet Creation Error:",e),(0,u.Am)({title:"Creation error",description:"Details: ".concat((null==e?void 0:e.message)||JSON.stringify(e)||"Unknown error")})}finally{es(!1)}},ek=async()=>{confirm("Are you sure? You'll lose access to this wallet if you haven't saved the key.")&&(eb(null),et(""),ea(""),localStorage.removeItem("linera_mnemonic"),j&&await c.O.from("profiles").upsert({id:j,user_id:j,linera_address:null,linera_microchain:null},{onConflict:"user_id"}),(0,u.Am)({title:"Reset",description:"Wallet disconnected."}))},eC=(0,i.useCallback)(async()=>{if(j&&ee&&er&&ev){ef(!0);try{let e=O.getInstance();console.log("[Profile] Refresh microchain balance",{owner:ee,chainId:er});let t=await e.getBalance(ee,er,ev);eu(t);let r="46e8a5f4fe22a6c4418f300f6491c636e226d56e0041f082b1b0729c0b049cd4";if(r){let[t,a]=await Promise.all([e.getTokenBalance(ee,r,ev,er),e.getTickerSymbol(r,ev,er)]);el(t),ed(a),console.log("[Profile] Token balance updated",{balance:t,ticker:a})}else el(""),ed("")}catch(e){console.error("[Profile] Balance check error:",e),el(""),eu("")}ef(!1)}},[j,ee,er,ev]);return((0,i.useEffect)(()=>{let e=async()=>{j&&ee&&er&&ev&&await eC()};e()},[eC,j,ee,er,ev]),(0,i.useEffect)(()=>{let e=async()=>{let e=O.getInstance(),t=await e.checkConnectivity();ej(t?"Connected":"Not connected")};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,i.useEffect)(()=>{if(!j||!ee||!er||!ev||!globalThis.crossOriginIsolated)return;let e=setInterval(()=>{eC()},15e3);return()=>clearInterval(e)},[eC,j,ee,er,ev]),j)?(0,a.jsx)("section",{className:"py-24 px-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(C(),{href:"/",className:"inline-flex items-center text-sm text-foreground/70 hover:text-primary",children:[(0,a.jsx)(w.Z,{className:"w-4 h-4 mr-2"})," Back to Home"]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)(s.Zb,{className:"glass-strong rounded-2xl p-8 border-white/10 lg:col-span-1",children:[(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsx)(m.qE,{className:"h-20 w-20",children:U?(0,a.jsx)(m.F$,{src:"/api/proxy-image?url=".concat(encodeURIComponent(U)),alt:D}):(0,a.jsx)(m.Q5,{children:null==D?void 0:null===(e=D.slice(0,2))||void 0===e?void 0:e.toUpperCase()})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:D||"User"}),(0,a.jsx)("div",{className:"text-sm text-foreground/60",children:"Discord"}),(0,a.jsx)("div",{className:"mt-4 text-sm text-foreground/80 break-words",children:(null==L?void 0:L.description)||"User description will be added."}),(0,a.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[(null==L?void 0:L.x_link)&&(0,a.jsx)("a",{href:String(L.x_link),target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-foreground/70 hover:text-primary",children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})}),(null==L?void 0:L.github_link)&&(0,a.jsx)("a",{href:String(L.github_link),target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-foreground/70 hover:text-primary",children:(0,a.jsx)(S.Z,{className:"w-4 h-4"})}),((null==L?void 0:L.discord_profile_link)||(null==I?void 0:null===(t=I.user_metadata)||void 0===t?void 0:t.user_name))&&(0,a.jsx)("a",{href:String((null==L?void 0:L.discord_profile_link)||"https://discord.com/users/".concat((null==I?void 0:null===(r=I.user_metadata)||void 0===r?void 0:r.sub)||"")),target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-foreground/70 hover:text-primary",children:(0,a.jsx)(_.Z,{className:"w-4 h-4"})})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Token balance"}),(0,a.jsx)("div",{className:"text-lg font-semibold font-mono break-all",children:em?"...":en?"".concat(en," ").concat(eo||"TLINERA"):"—"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:eC,children:"Refresh balance"})})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Microchain balance"}),(0,a.jsx)("div",{className:"text-lg font-semibold font-mono break-all",children:ec?"".concat(ec," TLINERA"):"—"})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Linera status"}),(0,a.jsx)("div",{className:"text-sm font-mono break-all",children:ey||"—"})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Role"}),(0,a.jsx)("div",{className:"text-lg font-semibold",children:f||"—"})]})]})]}),(0,a.jsxs)(s.Zb,{className:"glass-strong rounded-2xl p-8 border-white/10 lg:col-span-2",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-6",children:"User type"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(d.Ph,{value:f,onValueChange:e=>g(e),children:[(0,a.jsx)(d.i4,{children:(0,a.jsx)(d.ki,{placeholder:"Select a role"})}),(0,a.jsxs)(d.Bw,{children:[(0,a.jsx)(d.Ql,{value:"developer",children:"Developer"}),(0,a.jsx)(d.Ql,{value:"investor",children:"Investor"})]})]})}),(0,a.jsx)(n.z,{onClick:eN,className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl",children:"Save"})]}),(0,a.jsxs)("div",{className:"mt-6 rounded-2xl border border-white/10 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-semibold mb-3",children:"Linera wallet"}),ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Address"}),(0,a.jsx)("div",{className:"font-mono break-all",children:ee})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:"Microchain"}),(0,a.jsx)("div",{className:"font-mono break-all",children:er})]})]}),(0,a.jsx)(n.z,{onClick:ek,variant:"outline",className:"mt-4 w-full border-red-500/30 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:"Reset wallet"})]}):(0,a.jsx)(n.z,{onClick:e_,disabled:ei,className:"mt-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl",children:"Create Linera wallet"})]})]}),(0,a.jsxs)(s.Zb,{className:"glass-strong rounded-2xl p-8 border-white/10 lg:col-span-2",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-6",children:"Profile editor"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2 grid gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-foreground/60",children:"Description"}),(0,a.jsx)(o.g,{rows:4,value:V,onChange:e=>H(e.target.value),placeholder:"Short bio"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-foreground/60",children:"X (Twitter) link"}),(0,a.jsx)(l.I,{value:K,onChange:e=>Y(e.target.value),placeholder:"https://x.com/username"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-foreground/60",children:"GitHub link"}),(0,a.jsx)(l.I,{value:G,onChange:e=>X(e.target.value),placeholder:"https://github.com/username"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("label",{className:"text-sm text-foreground/60",children:"Discord profile"}),(0,a.jsx)(l.I,{value:Q,onChange:e=>$(e.target.value),placeholder:"https://discord.com/users/123"})]})]}),(0,a.jsx)("div",{className:"mt-6 flex items-center justify-end",children:(0,a.jsx)(n.z,{onClick:eS,className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl",children:"Save profile"})})]}),(0,a.jsxs)(s.Zb,{className:"glass-strong rounded-2xl p-8 border-white/10 lg:col-span-3",children:[(0,a.jsx)("div",{className:"text-xl font-bold mb-6",children:"Section"}),"developer"===f?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("div",{className:"text-sm text-foreground/60 mb-3",children:"Your projects"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[T.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-foreground/60",children:e.category})]}),(0,a.jsx)("div",{className:"text-xs px-2 py-1 rounded-lg bg-primary/20 text-primary",children:e.status})]},e.id)),!T.length&&(0,a.jsx)("div",{className:"text-sm text-foreground/60",children:"No projects yet"})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsx)("div",{className:"text-sm text-foreground/60 mb-3",children:"Statistics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Total"}),(0,a.jsx)("span",{className:"font-semibold",children:Z.total})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Active"}),(0,a.jsx)("span",{className:"font-semibold",children:Z.active})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Completed"}),(0,a.jsx)("span",{className:"font-semibold",children:Z.completed})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Funds raised"}),(0,a.jsx)("span",{className:"font-semibold",children:Z.raised.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})]})]}):"investor"===f?(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsx)("div",{className:"text-sm text-foreground/60 mb-3",children:"Statistics"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Project participation"}),(0,a.jsx)("span",{className:"font-semibold",children:B.participation})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"Funds committed"}),(0,a.jsx)("span",{className:"font-semibold",children:B.committed.toLocaleString("en-US",{style:"currency",currency:"USD"})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-xl border border-white/10 px-4 py-3",children:[(0,a.jsx)("span",{className:"text-sm",children:"P/L (potential)"}),(0,a.jsx)("span",{className:"font-semibold",children:B.pl.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("div",{className:"text-sm text-foreground/60 mb-3",children:"Voting history"}),(0,a.jsx)("div",{className:"rounded-2xl border border-white/10 overflow-hidden",children:(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{children:(0,a.jsxs)(v,{children:[(0,a.jsx)(b,{children:"Project"}),(0,a.jsx)(b,{children:"Choice"}),(0,a.jsx)(b,{children:"Amount"}),(0,a.jsx)(b,{children:"Result"}),(0,a.jsx)(b,{children:"P/L"})]})}),(0,a.jsxs)(x,{children:[W.map((e,t)=>(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{className:"font-medium",children:e.projectTitle}),(0,a.jsx)(y,{className:"capitalize",children:e.choice}),(0,a.jsx)(y,{children:e.amount.toLocaleString("en-US",{style:"currency",currency:"USD"})}),(0,a.jsx)(y,{children:e.result}),(0,a.jsx)(y,{children:e.pl.toLocaleString("en-US",{style:"currency",currency:"USD"})})]},"".concat(e.projectId,"-").concat(t))),!W.length&&(0,a.jsx)(v,{children:(0,a.jsx)(y,{colSpan:5,className:"text-foreground/60",children:"No votes yet"})})]})]})})]})]}):(0,a.jsx)("div",{className:"text-sm text-foreground/60",children:"Select a role to view the section"})]})]})]})}):(0,a.jsx)("section",{className:"py-24 px-6",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,a.jsx)("h2",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-cyan-300 bg-clip-text text-transparent",children:"Profile"}),(0,a.jsx)("p",{className:"text-foreground/60 mb-8",children:"Sign in to configure your profile"}),(0,a.jsx)(n.z,{onClick:ew,className:"bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl",children:"Sign in with Discord"})]})})}},37309:function(e,t,r){"use strict";r.d(t,{F$:function(){return o},Q5:function(){return d},qE:function(){return l}});var a=r(57437),i=r(2265),s=r(26694),n=r(39311);let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...i})});l.displayName=s.fC.displayName;let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.Ee,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",r),...i})});o.displayName=s.Ee.displayName;let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...i})});d.displayName=s.NY.displayName},93023:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(57437),i=r(2265),s=r(67256),n=r(39213),l=r(39311);let o=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:n,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:i,size:n,className:r})),ref:t,...c})});d.displayName="Button"},86110:function(e,t,r){"use strict";r.d(t,{Zb:function(){return n}});var a=r(57437),i=r(2265),s=r(39311);let n=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...i})});n.displayName="Card";let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...i})});o.displayName="CardTitle";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...i})});d.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...i})});c.displayName="CardContent";let u=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...i})});u.displayName="CardFooter"},51908:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(57437),i=r(2265),s=r(39311);let n=i.forwardRef((e,t)=>{let{className:r,type:i,...n}=e;return(0,a.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},58094:function(e,t,r){"use strict";r.d(t,{Bw:function(){return p},Ph:function(){return c},Ql:function(){return g},i4:function(){return m},ki:function(){return u}});var a=r(57437),i=r(2265),s=r(81052),n=r(83523),l=r(9224),o=r(62442),d=r(39311);let c=s.fC;s.ZA;let u=s.B4,m=i.forwardRef((e,t)=>{let{className:r,children:i,...l}=e;return(0,a.jsxs)(s.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[i,(0,a.jsx)(s.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let f=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=s.u_.displayName;let h=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})});h.displayName=s.$G.displayName;let p=i.forwardRef((e,t)=>{let{className:r,children:i,position:n="popper",...l}=e;return(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...l,children:[(0,a.jsx)(f,{}),(0,a.jsx)(s.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,a.jsx)(h,{})]})})});p.displayName=s.VY.displayName;let x=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...i})});x.displayName=s.__.displayName;let g=i.forwardRef((e,t)=>{let{className:r,children:i,...n}=e;return(0,a.jsxs)(s.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(s.eT,{children:i})]})});g.displayName=s.ck.displayName;let v=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...i})});v.displayName=s.Z0.displayName},55771:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var a=r(57437),i=r(2265),s=r(39311);let n=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,a.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});n.displayName="Textarea"},62621:function(e,t,r){"use strict";r.d(t,{Am:function(){return u},pm:function(){return m}});var a=r(2265);let i=0,s=new Map,n=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(d);return a.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},6763:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var a=r(5257);let i=(0,a.eI)("https://kgvmvdphdzyeunuetbeq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtndm12ZHBoZHp5ZXVudWV0YmVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg5ODI5NzcsImV4cCI6MjA3NDU1ODk3N30.pWSMTjcrY2wTdEHP4lGAGzibW1yVAVR9pfueUbmZehU",{auth:{storageKey:"propel-auth",autoRefreshToken:!0,persistSession:!0}})},39311:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(57042),i=r(74769);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,a.W)(t))}}},function(e){e.O(0,[237,257,396,769,130,817,971,864,744],function(){return e(e.s=70310)}),_N_E=e.O()}]);